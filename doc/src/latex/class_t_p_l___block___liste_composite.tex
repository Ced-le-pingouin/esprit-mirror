\section{Référence de la classe TPL\_\-Block\_\-ListeComposite}
\label{class_t_p_l___block___liste_composite}\index{TPL\_\-Block\_\-ListeComposite@{TPL\_\-Block\_\-ListeComposite}}


\subsection{Description détaillée}
Gestion d'un bloc de template particulier, qui peut servir à afficher des listes d'éléments \char`\"{}composites\char`\"{}, càd dont chaque élément peut être simple, ou lui-même une liste d'éléments composites. 

C'est donc différent d'une simple boucle, et sert par ex. à afficher une arborescence de fichiers (un dossier contient lui-même soit des fichiers, soit des dossiers, qui eux-même etc.), ou une arborescence de cours/unités/activités/etc. dans une formation.

Par exemple, pour afficher une liste de dossiers/fichiers, on peut définir le code HTML liste comme ceci:



\begin{Code}\begin{verbatim} [liste+]
 <ul>
   [liste_el+]<li>
     {nom_fichier}
     [@liste]
   </li>[liste_el-]
 </ul>
 [liste-]
\end{verbatim}
\end{Code}



Donc, la liste elle-même se définit exactement comme un \doxyref{TPL\_\-Block}{p.}{class_t_p_l___block}. A l'intérieur de celle-ci, on encadre le code qui représente un élément de liste par un bloc du même nom que la liste mais avec le suffixe {\tt \_\-el}. Ensuite, on place où on veut dans le code de l'élément, une balise du même nom que la liste mais précédée de {\tt @}, qui indique où s'insérera automatiquement une sous-liste du même type dans le cas où l'élément n'est pas \char`\"{}simple\char`\"{} mais de type composite (par ex. un dossier dans le cas de l'arborescence de fichiers).

Dans les méthodes de cette classe, la différence est principalement sur \doxyref{nextLoop()}{p.}{class_t_p_l___block___liste_composite_4529c5ebaa25dd53d835df4db110a3f5}, qui demande pour chaque itération deux paramètres: une indication que l'élément courant est composite ou pas (simple), et le niveau d'imbrication actuel de l'arborescance (commençant à 0 automatiquement).

Cette classe peut par exemple être utilisée avec un \doxyref{IterateurRecursif}{p.}{class_iterateur_recursif} de la lib std. \subsection*{Fonctions membres publiques}
\begin{CompactItemize}
\item 
{\bf \_\-afficherNivsPrec} (\$iNivMin)
\begin{CompactList}\small\item\em Vérifie s'il faut afficher des niveaux antérieurs de l'arborescence, dont le traitement est terminé. \item\end{CompactList}\item 
{\bf \_\-prepNivSuiv} ()\label{class_t_p_l___block___liste_composite_395919ca8c21f052304ba8a154f53650}

\begin{CompactList}\small\item\em Lorsqu'un élément est un composite (sous-liste), il faut insérer et initialiser dans le bloc de l'élément au niveau courant, un bloc pour une nouvelle liste et également un nouveau bloc enfant de celle-ci pour ses éléments. \item\end{CompactList}\item 
{\bf afficher} ()\label{class_t_p_l___block___liste_composite_ee25038dc4305ae6decbfe767c969d94}

\begin{CompactList}\small\item\em Voir \doxyref{TPL\_\-Block::afficher()}{p.}{class_t_p_l___block_033c8864b8d6180d9163828454335ab0}. \item\end{CompactList}\item 
{\bf beginLoop} ()\label{class_t_p_l___block___liste_composite_e2037981d3b79f1c2b2ff9a2d4b978a8}

\begin{CompactList}\small\item\em Voir \doxyref{TPL\_\-Block::beginLoop()}{p.}{class_t_p_l___block_042e3331ed17110ce4da1112f10c5a5a}. \item\end{CompactList}\item 
{\bf nextLoop} (\$bComposite, \$iNiv)\label{class_t_p_l___block___liste_composite_4529c5ebaa25dd53d835df4db110a3f5}

\begin{CompactList}\small\item\em Voir \doxyref{TPL\_\-Block::nextLoop()}{p.}{class_t_p_l___block_793f3c7ff34e3a8f2e88209e8735fe5e}. \item\end{CompactList}\item 
{\bf remplacer} (\$in, \$out)\label{class_t_p_l___block___liste_composite_1202e00768e0f7fcb2062542da727639}

\begin{CompactList}\small\item\em Voir \doxyref{TPL\_\-Block::remplacer()}{p.}{class_t_p_l___block_5f4d8f2f092746c0c2e41d7e86ac33c1}. \item\end{CompactList}\item 
{\bf TPL\_\-Block\_\-ListeComposite} (\$looptag, \&\$template)
\begin{CompactList}\small\item\em Constructeur. \item\end{CompactList}\end{CompactItemize}
\subsection*{Attributs publics}
\begin{CompactItemize}
\item 
{\bf \$aTplsElements} = array()\label{class_t_p_l___block___liste_composite_d8b7a7d60a9a586504d2da8f188b0c2b}

\begin{CompactList}\small\item\em Tableau qui contient les éléments de chacune des listes ci-dessus. \item\end{CompactList}\item 
{\bf \$aTplsListes} = array()\label{class_t_p_l___block___liste_composite_2fb2b6a4b25257db5cb83fe9973de8f8}

\begin{CompactList}\small\item\em Tableau qui contient les différents niveaux de listes imbriquées. \item\end{CompactList}\item 
{\bf \$iNiv}\label{class_t_p_l___block___liste_composite_c1e70fcb280ed33d801da094e5f99324}

\begin{CompactList}\small\item\em Niveau actuel d'indentation de l'arborescence. \item\end{CompactList}\item 
{\bf \$looptag}\label{class_t_p_l___block___liste_composite_2440e847ca0f26923a7c7c8fff4da0f9}

\begin{CompactList}\small\item\em Balise qui entourait le bloc dans le template parent. \item\end{CompactList}\item 
{\bf \$sContenuListe}\label{class_t_p_l___block___liste_composite_b53c69d22c123ada330f6c7549a50df1}

\begin{CompactList}\small\item\em Sauvegarde du contenu (code) de la liste initiale, qui sera inséré pour chaque sous-liste (élément composite). \item\end{CompactList}\end{CompactItemize}


\subsection{Documentation des fonctions membres}
\index{TPL\_\-Block\_\-ListeComposite@{TPL\_\-Block\_\-ListeComposite}!\_\-afficherNivsPrec@{\_\-afficherNivsPrec}}
\index{\_\-afficherNivsPrec@{\_\-afficherNivsPrec}!TPL_Block_ListeComposite@{TPL\_\-Block\_\-ListeComposite}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}TPL\_\-Block\_\-ListeComposite::\_\-afficherNivsPrec (\$ {\em iNivMin})}\label{class_t_p_l___block___liste_composite_6b3d3e874ec2fed4d1053f5be0bd1d50}


Vérifie s'il faut afficher des niveaux antérieurs de l'arborescence, dont le traitement est terminé. 

(appelée à partir de \doxyref{nextLoop()}{p.}{class_t_p_l___block___liste_composite_4529c5ebaa25dd53d835df4db110a3f5} lorsqu'on reste au même niveau mais qu'une sous-liste précédente pourrait s'avérer vide de tout élément =$>$ on l'efface; ou si on est descendu d'un ou plusieurs niveaux depuis le dernier appel, auquel cas il faudra afficher les sous-listes terminées)

\begin{Desc}
\item[Paramètres:]
\begin{description}
\item[{\em iNivMin}]le niveau jusqu'auquel il faut redescendre. Tous les niveaux supérieurs résultant des précédentes itérations seront affichés \end{description}
\end{Desc}


Référencé par afficher(), et nextLoop().\index{TPL\_\-Block\_\-ListeComposite@{TPL\_\-Block\_\-ListeComposite}!TPL\_\-Block\_\-ListeComposite@{TPL\_\-Block\_\-ListeComposite}}
\index{TPL\_\-Block\_\-ListeComposite@{TPL\_\-Block\_\-ListeComposite}!TPL_Block_ListeComposite@{TPL\_\-Block\_\-ListeComposite}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}TPL\_\-Block\_\-ListeComposite::TPL\_\-Block\_\-ListeComposite (\$ {\em looptag}, \/  \&\$ {\em template})}\label{class_t_p_l___block___liste_composite_5543317fdd1d4a53cd2e95db55ae07dc}


Constructeur. 

Initialise le niveau d'imbrication des listes à 0, le nom de la balise de liste, et les deux blocs initiaux représentant la liste de départ, et ses éléments 

Références \$looptag.

La documentation de cette classe a été générée à partir du fichier suivant :\begin{CompactItemize}
\item 
src/include/{\bf template.inc.php}\end{CompactItemize}
